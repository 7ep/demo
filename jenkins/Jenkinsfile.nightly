// This file is meant to be run nightly, since it takes a long time to run, and
// doesn't have to be run on each build.

// its purpose is to highlight dependencies that are security risks.
pipeline {

  agent any


  environment {
    DEMO_PROJECT_HOME   =  "${env.WORKSPACE}"
    POSTGRES_BIN_DIR    = '/usr/pgsql-10/bin'
  }

  stages {

    stage('Analyze security of dependencies') {
      steps {
         sh './gradlew dependencyCheckAnalyze'
      }
    }

  }

}

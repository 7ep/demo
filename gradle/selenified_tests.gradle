sourceSets {
    selenifiedtests {
        java.srcDir 'src/selenified_tests/java'
        resources.srcDir 'src/selenified_tests/resources'
    }
}

dependencies {
    selenifiedtestsCompile sourceSets.main.output
    selenifiedtestsCompile sourceSets.test.output

    selenifiedtestsCompile configurations.compile
    selenifiedtestsCompile configurations.testCompile

    // Selenfied, a Coveros application to aid with test needs using Selenium
    // This has a properties file in src/test/resource/selenified_tests.properties
    testCompile group: 'com.coveros', name: 'selenified', version: '3.2.0'
}

task selenified(type: Test) {
    testClassesDirs = sourceSets.selenifiedtests.output.classesDirs
    classpath = sourceSets.selenifiedtests.runtimeClasspath
    useTestNG() {}
}

selenified.finalizedBy 'printSelenifiedReportPath'

task('printSelenifiedReportPath') {
    doLast {
        print "\n\n\n"
        println "---------------------------------------------------------------"
        println "A report was generated by the tests."
        println "---------------------------------------------------------------"
        println ""
        println "See build/reports/tests/selenified/report.html"
        println "---------------------------------------------------------------"
        print "\n"
    }
}